== sub.in ==

Этот каталог содержит субпрофили; содержимое затребованных
(названия которых содержатся в значении переменной SUBPROFILES,
которую заполняют цели sub/* -- см. ../lib/distro.mk) будет
скопировано в корневой каталог формируемого профиля.

Просьба ответственно относиться к изменению существующих субпрофилей
и вдумчиво -- к созданию новых; возможно, достаточно всего лишь
оформить нужное новой фичей (см. ../features.in/).

Обратите внимание: поскольку сборка частей дистрибутивного образа
и происходит в каталогах субпрофилей, то повторное использование
одного простого субпрофиля в рамках сгенерированного профиля штатным
образом невозможно.  Если требуется создать несколько близких по
реализации субпрофилей, изучите stage2 и задействующие его фичи.

Краткое описание существующих вариантов:

* stage1: propagator и загрузчик (совместно с фичей syslinux);
  типично требуется для инсталяторов, live- и rescue-образов,
  но может использоваться без добавления таковых в образ,
  обеспечивая сетевую загрузку второй стадии

* stage2: наиболее сложный технологически субпрофиль, поскольку
  он является только базовым для получения ряда итоговых частей
  дистрибутива (install2, live, rescue); задействуется для этого
  только опосредованно через use/stage2/* и модифицирует stage1
  в силу наличия связи между ними (в stage1 попадает образ ядра
  и firmware, в stage2 -- соответствующие модули)

* main: пакетная база, укладываемая на образ (NB: поскольку рабочий
  чрут в этом случае не содержит ничего, кроме пакетов, добавлять
  image-scripts.d/* смысла нет, только scripts.d/*)

Шаблонное правило сейчас определено в ../lib/distro.mk,
поскольку субпрофили востребованы только дистрибутивами.
